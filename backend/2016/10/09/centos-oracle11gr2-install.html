<!DOCTYPE html><html><head><meta charset="utf-8"><title>Centos7安装oracle11gr2 | Lehoon</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="Centos7最小化安装后，安装Oracle11g r2过程记录。"><meta property="og:type" content="article"><meta property="og:title" content="Centos7安装oracle11gr2"><meta property="og:url" content="http://blog.lehoon.cn/backend/2016/10/09/centos-oracle11gr2-install.html"><meta property="og:site_name" content="Lehoon"><meta property="og:description" content="Centos7最小化安装后，安装Oracle11g r2过程记录。"><meta property="og:updated_time" content="2016-10-09T09:35:19.169Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Centos7安装oracle11gr2"><meta name="twitter:description" content="Centos7最小化安装后，安装Oracle11g r2过程记录。"><link rel="alternative" href="/rss.xml" title="Lehoon" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="http://images.lehoon.com/font-awesome.min.css"><link rel="apple-touch-icon" href="/img/apple-touch-icon.png"><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/js/pace.js"></script><link href="/css/pace/pace-theme-flash.css" rel="stylesheet"><script>var yiliaConfig={rootUrl:"/",fancybox:!0,animate:!0,isHome:!1,isPost:!0,isArchive:!1,isTag:!1,isCategory:!1,open_in_new:!1}</script></head><body><div id="container"><div class="left-col"><div class="overlay"></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img lazy-src="http://images.lehoon.com/wandou.jpg" class="js-avatar"></a><hgroup><h1 class="header-author"><a href="/" title="Hi Lehoon">lehoon</a></h1></hgroup><div id="switch-area" class="switch-area"><div class="switch-wrap"><section class="switch-part switch-part1"><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives">文章</a></li><li><a href="/projects">项目</a></li><li><a href="/categories/backend">后端</a></li><li><a href="/categories/frontend">前端</a></li><li><a href="/categories/orther">其他</a></li><li><a href="/about">关于</a></li></ul></nav><nav class="header-nav"><ul class="social"><a class="fl mail" target="_blank" href="mailto:lehoon@lehoon.com" title="mail">mail</a> <a class="fl github" target="_blank" href="https://github.com/lehoon" title="github">github</a> <a class="fl weibo" target="_blank" href="http://weibo.com/lehoons" title="weibo">weibo</a> <a class="fl rss" target="_blank" href="/rss.xml" title="rss">rss</a></ul></nav></section><section class="switch-part switch-part3"><div id="js-aboutme">热爱生活，享受生活。</div></section></div></div></header></div></div><div class="mid-col"><nav id="mobile-nav"><div class="overlay"><div class="slider-trigger"></div><h1 class="header-author js-mobile-header hide"><a href="/" title="Me">lehoon</a></h1></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img lazy-src="/http://images.lehoon.com/wandou.jpg" class="js-avatar"></a><hgroup><h1 class="header-author"><a href="/" title="Me">lehoon</a></h1></hgroup><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives">文章</a></li><li><a href="/projects">项目</a></li><li><a href="/categories/backend">后端</a></li><li><a href="/categories/frontend">前端</a></li><li><a href="/categories/orther">其他</a></li><li><a href="/about">关于</a></li><div class="clearfix"></div></ul></nav><nav class="header-nav"><div class="social"><a class="mail" target="_blank" href="mailto:lehoon@lehoon.com" title="mail">mail</a> <a class="github" target="_blank" href="https://github.com/lehoon" title="github">github</a> <a class="weibo" target="_blank" href="http://weibo.com/lehoons" title="weibo">weibo</a> <a class="rss" target="_blank" href="/rss.xml" title="rss">rss</a></div></nav></header></div></nav><div class="body-wrap"><article id="post-centos-oracle11gr2-install" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/backend/2016/10/09/centos-oracle11gr2-install.html" class="article-date"><time datetime="2016-10-09T08:11:23.000Z" itemprop="datePublished">2016-10-09</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 class="article-title" itemprop="name">Centos7安装oracle11gr2</h1></header><div class="article-info article-info-post"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/backend/">后端</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos7/">centos7</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oracle11g/">oracle11g</a></li></ul></div><div class="clearfix"></div></div><div class="article-entry" itemprop="articleBody"><p>Centos7最小化安装后，安装Oracle11g r2过程记录。<br><a id="more"></a></p><h2 id="更新yum源"><a href="#更新yum源" class="headerlink" title="更新yum源"></a>更新yum源</h2><p>把centos的yum源修改为163源<br></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">下载yum源文件</div><div class="line">wget -O /etc/yum<span class="selector-class">.repos</span><span class="selector-class">.d</span>/CentOS-Base<span class="selector-class">.repo</span> http:<span class="comment">//mirrors.163.com/.help/CentOS7-Base-163.repo</span></div><div class="line">清理缓存</div><div class="line">yum clean all</div><div class="line">重建缓存</div><div class="line">yum makecache</div></pre></td></tr></table></figure><p></p><h2 id="关闭selinux"><a href="#关闭selinux" class="headerlink" title="关闭selinux"></a>关闭selinux</h2><p>关闭selinux,修改selinux的配置文件,通过sed流编辑器，把SELINUX=enforcing替换为SELINUX=disabled<br></p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">sed</span> -i <span class="string">"s/SELINUX=enforcing/SELINUX=disabled/"</span> /etc/<span class="keyword">selinux/config</span></div><div class="line"></div><div class="line">关闭<span class="keyword">selinux</span></div><div class="line"><span class="symbol">setenforce</span> <span class="number">0</span></div></pre></td></tr></table></figure><p></p><h2 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h2><p>由于在centos7后，默认使用的是firewall，所以把firewalld禁用就可以了<br></p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">systemctl</span> <span class="selector-tag">stop</span> <span class="selector-tag">firewalld</span><span class="selector-class">.service</span></div><div class="line"><span class="selector-tag">systemctl</span> <span class="selector-tag">disable</span> <span class="selector-tag">firewalld</span><span class="selector-class">.service</span></div></pre></td></tr></table></figure><p></p><h2 id="时间同步ntp"><a href="#时间同步ntp" class="headerlink" title="时间同步ntp"></a>时间同步ntp</h2><p>用于同步服务器时间<br></p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yum install ntp</div><div class="line">然后在crontab中增加定时时间同步,<span class="number">1</span>小时同步一次。</div><div class="line">crontab -e</div><div class="line"><span class="number">00</span> */<span class="number">1</span> * * * /usr/sbin/ntpdate -s ntp.api.bz</div></pre></td></tr></table></figure><p></p><h2 id="安装开发环境"><a href="#安装开发环境" class="headerlink" title="安装开发环境"></a>安装开发环境</h2><p>一般在linux下搭建开发环境的基础是c/c++，为了一次性使用yum安装好该环境，最好使用的命令是<br></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">yum</span> groupinstall <span class="string">'Development Tools'</span></div></pre></td></tr></table></figure><p></p><h2 id="安装网络工具"><a href="#安装网络工具" class="headerlink" title="安装网络工具"></a>安装网络工具</h2><p>为了使用netstat、arp等工具调试网络问题，所以需要安装net-tools包。<br></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> net-tools</div></pre></td></tr></table></figure><p></p><h2 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h2><p>修改服务器的名称，使用hostnamectl命令修改<br></p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">hostnamectl </span><span class="built_in">set-hostname</span> <span class="string">dbserver</span></div></pre></td></tr></table></figure><p></p><p>hostnamectl只会同步修改/etc/hostname， 不会更新/etc/hosts，所以需要手动更改/etc/hosts文件。<br></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd /etc/</div><div class="line">vi hosts</div><div class="line"><span class="number">127.0.0.1</span>   dbserver</div><div class="line"><span class="number">::1</span>         localhost localhost.localdomain localhost6 localhost6.localdomain6</div></pre></td></tr></table></figure><p></p><p>修改完后，reboot重启机器。</p><h2 id="检查需要的包"><a href="#检查需要的包" class="headerlink" title="检查需要的包"></a>检查需要的包</h2><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">rpm</span> <span class="literal">-</span><span class="comment">qa</span> <span class="comment">binutils</span> <span class="comment">compat</span><span class="literal">-</span><span class="comment">libstdc</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">33</span> <span class="comment">elfutils</span><span class="literal">-</span><span class="comment">libelf</span> <span class="comment">elfutils</span><span class="literal">-</span><span class="comment">libelf</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">elfutils</span><span class="literal">-</span><span class="comment">libelf</span><span class="literal">-</span><span class="comment">devel</span><span class="literal">-</span><span class="comment">static</span> <span class="comment">gcc</span> <span class="comment">gcc</span><span class="literal">-</span><span class="comment">c</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">glibc</span> <span class="comment">glibc</span><span class="literal">-</span><span class="comment">common</span> <span class="comment">glibc</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">glibc</span><span class="literal">-</span><span class="comment">headers</span> </div><div class="line"><span class="comment">glibc</span><span class="literal">-</span><span class="comment">static</span> <span class="comment">kernel</span><span class="literal">-</span><span class="comment">headers</span> <span class="comment">pdksh</span> <span class="comment">libaio</span> <span class="comment">libaio</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libgcc</span> <span class="comment">libgomp</span> <span class="comment">libstdc</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">libstdc</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">devel</span> <span class="comment">libstdc</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">static</span> <span class="comment">make</span> <span class="comment">numactl</span><span class="literal">-</span><span class="comment">devel</span> </div><div class="line"><span class="comment">sysstat</span> <span class="comment">unixODBC</span> <span class="comment">unixODBC</span><span class="literal">-</span><span class="comment">devel</span></div></pre></td></tr></table></figure><p>发现没有的包通过yum install 包名安装好即可。</p><p>这里需要注意的是pdksh这个包，在centos5以后yum源里面就没有这个了。<br>所以需要下载rpm包或者源码编译。<br>我这里准备的是pdksh-5.2.14-30.x86_64.rpm包，安装如下：<br></p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">rpm -ivh pdksh<span class="number">-5.2</span><span class="number">.14</span><span class="number">-30.</span>x86_64.rpm </div><div class="line">警告：pdksh<span class="number">-5.2</span><span class="number">.14</span><span class="number">-30.</span>x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID <span class="number">73307</span>de6: NOKEY</div><div class="line">准备中...                          <span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">### [100%]</span></div><div class="line">试图安装 pdksh-5.2.14-30.x86_64 和 pdksh-5.2.14-30.x86_64 会导致文件 /usr/bin/ksh 冲突</div></pre></td></tr></table></figure><p></p><p>通过–force强制安装选项来安装<br></p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rpm -ivh --force pdksh<span class="number">-5.2</span><span class="number">.14</span><span class="number">-30.</span>x86_64.rpm </div><div class="line">警告：pdksh<span class="number">-5.2</span><span class="number">.14</span><span class="number">-30.</span>x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID <span class="number">73307</span>de6: NOKEY</div><div class="line">准备中...                          <span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">### [100%]</span></div><div class="line">正在升级/安装...</div><div class="line">   1:pdksh-5.2.14-30                  ###<span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span> [<span class="number">100</span>%]</div></pre></td></tr></table></figure><p></p><h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><h3 id="创建用户组"><a href="#创建用户组" class="headerlink" title="创建用户组"></a>创建用户组</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">groupadd</span> dba</div><div class="line">groupadd oinstall</div></pre></td></tr></table></figure><h3 id="创建用户oracle"><a href="#创建用户oracle" class="headerlink" title="创建用户oracle"></a>创建用户oracle</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">添加<span class="keyword">oracle用户</span></div><div class="line">useradd -m -g oinstall -G dba <span class="keyword">oracle</span></div><div class="line">修改密码</div><div class="line">passwd <span class="keyword">oracle</span></div></pre></td></tr></table></figure><h2 id="配置内核参数"><a href="#配置内核参数" class="headerlink" title="配置内核参数"></a>配置内核参数</h2><h3 id="配置内核参数。"><a href="#配置内核参数。" class="headerlink" title="配置内核参数。"></a>配置内核参数。</h3><p>修改/etc/sysctl.conf文件，配置内核参数。<br>修改配置完成后，通过syscrl -p使其生效。<br></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">kernel<span class="selector-class">.shmall</span> = <span class="number">2097152</span>    <span class="comment">//表示系统一次可以使用的共享内存总量(以页为单位)。缺省值就是2097152，通常不需要修改</span></div><div class="line">kernel<span class="selector-class">.shmmax</span> = <span class="number">4294967296</span> <span class="comment">//定义了共享内存段的最大尺寸(以字节为单位)。缺省为32M，</span></div><div class="line">对于oracle来说，该缺省值太低了，通常将其设置为<span class="number">4</span>G=<span class="number">4294967296</span>/<span class="number">1024</span>/<span class="number">1024</span>/<span class="number">1024</span></div><div class="line"> </div><div class="line">kernel<span class="selector-class">.shmmni</span> = <span class="number">4096</span>    <span class="comment">//用于设置系统范围内共享内存段的最大数量。该参数的默认值是 4096 。通常不需要更改</span></div><div class="line">kernel<span class="selector-class">.sem</span> = <span class="number">250</span> <span class="number">32000</span> <span class="number">100</span> <span class="number">128</span>    <span class="comment">//表示设置的信号量</span></div><div class="line">fs<span class="selector-class">.file-max</span> = <span class="number">65536</span>    <span class="comment">//表示文件句柄的最大数量。文件句柄表示在Linux系统中可以打开的文件数量。其实是由"fs.file-max = 512 * PROCESSES"得到的，我们指定PROCESSES的值为128，即为"fs.file-max =512 *128"。</span></div><div class="line">fs<span class="selector-class">.aio-max-nr</span> = <span class="number">1048576</span>    <span class="comment">//同时可以拥有的的异步IO请求数目。</span></div><div class="line">net<span class="selector-class">.ipv4</span><span class="selector-class">.ip_local_port_range</span> = <span class="number">1024</span> <span class="number">65000</span>    <span class="comment">//应用程序可使用的Ipv4端口范围。</span></div><div class="line"> </div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.rmem_default</span> = <span class="number">262144</span>    <span class="comment">//默认的接收窗口大小</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.rmem_max</span> = <span class="number">4194304</span>    <span class="comment">//接收窗口的最大大小</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.wmem_default</span> = <span class="number">262144</span>    <span class="comment">//默认的发送窗口大小</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.wmem_max</span> = <span class="number">1048586</span>    <span class="comment">//发送窗口的最大大小</span></div><div class="line"> </div><div class="line">fs<span class="selector-class">.aio-max-nr</span> = <span class="number">1048576</span></div><div class="line">fs<span class="selector-class">.file-max</span> = <span class="number">6815744</span></div><div class="line"> </div><div class="line">kernel<span class="selector-class">.shmall</span> = <span class="number">2097152</span></div><div class="line">kernel<span class="selector-class">.shmmax</span> = <span class="number">536870912</span></div><div class="line">kernel<span class="selector-class">.shmmni</span> = <span class="number">4096</span></div><div class="line">kernel<span class="selector-class">.sem</span> = <span class="number">250</span> <span class="number">32000</span> <span class="number">100</span> <span class="number">128</span></div><div class="line">net<span class="selector-class">.ipv4</span><span class="selector-class">.ip_local_port_range</span> = <span class="number">9000</span> <span class="number">65500</span></div><div class="line"> </div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.rmem_default</span> = <span class="number">262144</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.rmem_max</span> = <span class="number">4194304</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.wmem_default</span> = <span class="number">262144</span></div><div class="line">net<span class="selector-class">.core</span><span class="selector-class">.wmem_max</span> = <span class="number">1048586</span></div></pre></td></tr></table></figure><p></p><h3 id="修改资源参数"><a href="#修改资源参数" class="headerlink" title="修改资源参数"></a>修改资源参数</h3><p>修改/etc/secrity/limits.conf文件，增加如下内容：<br></p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">oracle   soft    nproc    <span class="number">2047</span></div><div class="line">oracle   hard    nproc    <span class="number">16384</span></div><div class="line">oracle   soft    nofile    <span class="number">1024</span></div><div class="line">oracle   hard    nofile    <span class="number">65536</span></div><div class="line"></div><div class="line">*       soft    nofile  <span class="number">8192</span></div><div class="line">*       hard    nofile  <span class="number">8192</span></div></pre></td></tr></table></figure><p></p><h2 id="创建安装目录"><a href="#创建安装目录" class="headerlink" title="创建安装目录"></a>创建安装目录</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">mkdir</span> /<span class="built_in">home</span>/app</div><div class="line"><span class="built_in">mkdir</span> /<span class="built_in">home</span>/oradata</div></pre></td></tr></table></figure><p>设置目录权限<br></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">chown <span class="string">oracle:</span>oinstall <span class="regexp">/home/</span>app</div><div class="line">chown <span class="string">oracle:</span>oinstall <span class="regexp">/home/</span>oradata</div><div class="line">chmod <span class="number">755</span> <span class="regexp">/home/</span>app</div><div class="line">chmod <span class="number">755</span> <span class="regexp">/home/</span>oradata</div></pre></td></tr></table></figure><p></p><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><h3 id="修改全局环境变量"><a href="#修改全局环境变量" class="headerlink" title="修改全局环境变量"></a>修改全局环境变量</h3><p>修改oracle登录后的环境变量，vi /etc/profile增加如下内容：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> [ <span class="variable">$USER</span> = <span class="string">"oracle"</span> ]; <span class="keyword">then</span> </div><div class="line"><span class="keyword">if</span> [ <span class="variable">$SHELL</span> = <span class="string">"/bin/ksh"</span> ]; <span class="keyword">then</span> </div><div class="line">  <span class="built_in">ulimit</span> -p 16384 </div><div class="line">  <span class="built_in">ulimit</span> -n 65536 </div><div class="line"><span class="keyword">else</span> </div><div class="line">  <span class="built_in">ulimit</span> -u 16384 -n 65536 </div><div class="line"><span class="keyword">fi</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure><p></p><p>重新加载属性文件，使其改动内容生效。<br></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">source</span> <span class="regexp">/etc/</span>profile</div></pre></td></tr></table></figure><p></p><h3 id="修改oracle环境变量"><a href="#修改oracle环境变量" class="headerlink" title="修改oracle环境变量"></a>修改oracle环境变量</h3><p>使用oracle用户登录系统，设置环境变量<br>vi .bash_profile添加以下内容：<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># .bash_profile</span></div><div class="line"></div><div class="line"><span class="comment"># Get the aliases and functions</span></div><div class="line"><span class="keyword">if</span> [ <span class="_">-f</span> ~/.bashrc ]; <span class="keyword">then</span></div><div class="line">        . ~/.bashrc</div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="built_in">umask</span> 022</div><div class="line"></div><div class="line">TMP=/tmp</div><div class="line">TMPDIR=/tmp</div><div class="line"><span class="built_in">export</span> TMP TMPDIR</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># User specific environment and startup programs</span></div><div class="line"></div><div class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/.local/bin:<span class="variable">$HOME</span>/bin</div><div class="line"></div><div class="line"><span class="built_in">export</span> PATH</div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">export</span> ORACLE_BASE=/home/app</div><div class="line"><span class="built_in">export</span> ORACLE_HOME=<span class="variable">$ORACLE_BASE</span>/oracle/product/11.2.0.4/db_1</div><div class="line"><span class="built_in">export</span> ORACLE_SID=orcl</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$ORACLE_HOME</span>/bin</div><div class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$ORACLE_HOME</span>/lib:/usr/lib</div><div class="line"></div><div class="line"><span class="built_in">alias</span> sqlplus=<span class="string">"rlwrap sqlplus"</span></div><div class="line"><span class="built_in">alias</span> rman=<span class="string">"rlwrap rman"</span></div><div class="line"></div><div class="line"><span class="built_in">export</span> NLS_LANG=AMERICAN_AMERICA.ZHS16GBK</div></pre></td></tr></table></figure><p></p><h2 id="关联设置"><a href="#关联设置" class="headerlink" title="关联设置"></a>关联设置</h2><p>编辑文件：vi /etc/pam.d/login 加入以下语句:<br>session required /lib/security/pam_limits.so<br>session required pam_limits.so</p><h2 id="准备oracle11gr2的安装文件"><a href="#准备oracle11gr2的安装文件" class="headerlink" title="准备oracle11gr2的安装文件"></a>准备oracle11gr2的安装文件</h2><p>解压安装文件<br></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar jxvf database<span class="selector-class">.tar</span><span class="selector-class">.bz2</span></div></pre></td></tr></table></figure><p></p></div></div><div class="copyright"><p><span>本文标题:</span><a href="/backend/2016/10/09/centos-oracle11gr2-install.html">Centos7安装oracle11gr2</a></p><p><span>文章作者:</span><a href="/" title="访问 lehoon 的个人博客">lehoon</a></p><p><span>发布时间:</span>2016年10月09日 - 16时11分</p><p><span>最后更新:</span>2016年10月09日 - 17时35分</p><p><span>原始链接:</span><a class="post-url" href="/backend/2016/10/09/centos-oracle11gr2-install.html" title="Centos7安装oracle11gr2">http://blog.lehoon.cn/backend/2016/10/09/centos-oracle11gr2-install.html</a><span class="copy-path" data-clipboard-text="原文: http://blog.lehoon.cn/backend/2016/10/09/centos-oracle11gr2-install.html　　作者: lehoon" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span><script src="/js/clipboard.min.js"></script><script>var clipboard=new Clipboard(".copy-path")</script></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target="_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。</p></div><nav id="article-nav"><a href="/backend/2016/10/08/gdb-miss-debuginfo.html" id="article-nav-older" class="article-nav-link-wrap"><div class="article-nav-title">gdb-miss-debuginfo</div><strong class="article-nav-caption">&gt;</strong></a></nav></article><div id="toc" class="toc-article"><strong class="toc-title">文章目录</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#更新yum源"><span class="toc-number">1.</span> <span class="toc-text">更新yum源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关闭selinux"><span class="toc-number">2.</span> <span class="toc-text">关闭selinux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关闭防火墙"><span class="toc-number">3.</span> <span class="toc-text">关闭防火墙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#时间同步ntp"><span class="toc-number">4.</span> <span class="toc-text">时间同步ntp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装开发环境"><span class="toc-number">5.</span> <span class="toc-text">安装开发环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装网络工具"><span class="toc-number">6.</span> <span class="toc-text">安装网络工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改主机名"><span class="toc-number">7.</span> <span class="toc-text">修改主机名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#检查需要的包"><span class="toc-number">8.</span> <span class="toc-text">检查需要的包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建用户"><span class="toc-number">9.</span> <span class="toc-text">创建用户</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建用户组"><span class="toc-number">9.1.</span> <span class="toc-text">创建用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建用户oracle"><span class="toc-number">9.2.</span> <span class="toc-text">创建用户oracle</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置内核参数"><span class="toc-number">10.</span> <span class="toc-text">配置内核参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置内核参数。"><span class="toc-number">10.1.</span> <span class="toc-text">配置内核参数。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改资源参数"><span class="toc-number">10.2.</span> <span class="toc-text">修改资源参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建安装目录"><span class="toc-number">11.</span> <span class="toc-text">创建安装目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置环境变量"><span class="toc-number">12.</span> <span class="toc-text">配置环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#修改全局环境变量"><span class="toc-number">12.1.</span> <span class="toc-text">修改全局环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改oracle环境变量"><span class="toc-number">12.2.</span> <span class="toc-text">修改oracle环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关联设置"><span class="toc-number">13.</span> <span class="toc-text">关联设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#准备oracle11gr2的安装文件"><span class="toc-number">14.</span> <span class="toc-text">准备oracle11gr2的安装文件</span></a></li></ol></div><input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录"><script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script><script>var valueHide="隐藏目录",valueShow="显示目录";$(".left-col").is(":hidden")&&$("#tocButton").attr("value",valueShow),$("#tocButton").click(function(){$("#toc").is(":hidden")?($("#tocButton").attr("value",valueHide),$("#toc").slideDown(320)):($("#tocButton").attr("value",valueShow),$("#toc").slideUp(350))}),$(".toc").length<1&&$("#toc, #tocButton").hide()</script><div class="scroll" id="post-nav-button"><a href="/" title="回到主页"><i class="fa fa-home"></i></a><a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a><a href="/backend/2016/10/08/gdb-miss-debuginfo.html" title="下一篇: gdb-miss-debuginfo"><i class="fa fa-angle-right"></i></a></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/backend/2016/10/09/centos-oracle11gr2-install.html">Centos7安装oracle11gr2</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/10/08/gdb-miss-debuginfo.html">gdb-miss-debuginfo</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/29/linux-io-schedule.html">Linux IO调度算法</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/27/linux-c-func.html">Linux下C函数定义</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/26/tcpdump.html">tcpdump使用文档</a></li><li class="post-list-item"><a class="post-list-link" href="/编程/2016/09/20/eim.html">eim</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/16/linux-strace.html">linux-strace使用介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/16/linux-brk-sbrk.html">brk,sbrk--改变数据段长度</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/07/centos-note.html">Centos记录</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/09/05/raid.html">raid磁盘阵列介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/09/02/nginx-load-balance.html">nginx负载均衡各种场景下的应用</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/09/01/usb-centos-error.html">U盘安装centos7，启动报错</a></li><li class="post-list-item"><a class="post-list-link" href="/frontend/2016/09/01/js-generate-uuid.html">JavaScript生成全局唯一id的方法</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/08/29/notepad.html">随笔</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/08/22/kafka-window.html">kafka在window下部署</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/08/19/makefile.html">Makefile学习</a></li><li class="post-list-item"><a class="post-list-link" href="/frontend/2016/08/16/http-etag-last-midified.html">HTTP缓存ETAG和Last-Modified</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/08/16/ip-catagory.html">ip地址分类</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/08/09/android-connection-session.html">android非浏览器应用程序与服务器会话保持实现</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/07/28/memcache-memcached-diff.html">memcache与memcached区别</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/07/19/centos-lvs.html">CentOS 7.0下安装部署LVS</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/07/19/awk.html">awk学习</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/07/11/epoll.html">Linux epoll学习</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/07/04/golang-deamon.html">go守护进程实现方式</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/07/04/tcp-load-balancing.html">tcp连接负载均衡</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/07/04/tcp-rst.html">tcp出现rst情况</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2016/05/26/linux-tcp-optimization.html">Linux下tcp的优化</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/05/08/oracle-merge-into.html">oracle中merge into语法注意点</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2016/02/05/window-batch.html">Window批处理记录</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2015/10/11/kesankaoshi.html">机动车驾驶科目三操作要领</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2015/09/28/window-service-program.html">window服务编程</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2015/09/21/assembly-instruction.html">汇编指令集</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2015/09/15/bool-BOOL.html">bool和BOOL的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2015/08/20/ssh-limit.html">ssh限制ip远程登录</a></li><li class="post-list-item"><a class="post-list-link" href="/orther/2015/08/18/ue-regex.html">ultraedit正则表达式使用</a></li><li class="post-list-item"><a class="post-list-link" href="/backend/2015/05/07/occi.html">c++使用occi连接oracle</a></li><li class="post-list-item"><a class="post-list-link" href="/frontend/2015/03/06/gulp.html">gulp 提高页面加载速度</a></li></ul><script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script><script>$(".post-list").addClass("toc-article"),$(".post-list-item a").attr("target","_blank"),$("#post-nav-button > a:nth-child(2)").click(function(){$(".fa-bars, .fa-times").toggle(),$(".post-list").toggle(300),$(".toc").length>0&&$("#toc, #tocButton").toggle(200,function(){$(".switch-area").is(":visible")&&$("#tocButton").attr("value",valueHide)})})</script><script></script></div><footer id="footer"><div class="outer"><div id="footer-info"><div class="footer-left">&copy; 2016 lehoon</div><div class="footer-right"><a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman</div></div></div></footer></div><script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script><script src="/js/main.js"></script><script>$(document).ready(function(){})</script><div class="scroll" id="scroll"><a href="#"><i class="fa fa-arrow-up"></i></a><a href="#comments"><i class="fa fa-comments-o"></i></a><a href="#footer"><i class="fa fa-arrow-down"></i></a></div><script>$(document).ready(function(){$("#comments").length<1&&$("#scroll > a:nth-child(2)").hide()})</script><script language="javascript">$(function(){$("a[title]").each(function(){var t=$(this),e=t.attr("title");void 0!=e&&""!=e&&t.data("title",e).removeAttr("title").hover(function(){var i=t.offset();$('<div id="anchortitlecontainer"></div>').appendTo($("body")).html(e).css({top:i.top-t.outerHeight()-15,left:i.left+t.outerWidth()/2+1}).fadeIn(function(){var t=$(this);setTimeout(function(){t.remove()},800*t.text().length)})},function(){$("#anchortitlecontainer").remove()})})})</script></div></body></html>